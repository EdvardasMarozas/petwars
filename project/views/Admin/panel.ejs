<!-- <a class="btn btn-outline-secondary btn-sm" href="/petwars"> GO BACK</a> -->
<%- include("../layout/header") %>
<a class="btn btn-outline-primary" href="/logout">Log Out</a>

<h1 class="text-center mb-5" style="color: #161a30; font-weight: 900">
  <%= title %>
</h1>

<div class="container" style="column-width: 190px">
  <% for (let i = 0, a = 1; i < pets.length; i++, a++) { %>
  <div
    style="
      display: flex;
      flex-direction: column;
      break-inside: avoid;
      width: 71%;
    "
  >
    <div class="d-flex flex-row">
      <div>
        <a
          class="btn btn-outline-warning"
          href="/panel/<%= adminID %>/<%= pets[i].ID %>/edit"
          ><i class="bi bi-pencil-square"></i> EDIT</a
        >
      </div>
      <div>
        <form action="/panel/<%= adminID %>/<%= pets[i].ID %>" method="post">
          <input type="hidden" name="_method" value="DELETE" />
          <a class="delete_link btn btn-outline-danger" href="#"
            ><i class="bi bi-trash3"></i> DELETE</a
          >
        </form>
      </div>
    </div>
    <a style="width: 100%" href="/petwars/pets/<%= pets[i].ID %>">
      <img
        class="mb-2"
        src="images/<%= pets[i].image%>"
        style="max-height: 150px"
      />
    </a>
    <a
      style="width: 100%; text-align: center; font-weight: 700"
      class="mb-4 fs-6"
      href="/petwars/pets/<%= pets[i].ID %>"
      ><%= a %>.<%= pets[i].name %></a
    >
  </div>
  <% } %>
</div>

<script>
  const delete_links = document.getElementsByClassName("delete_link");
  if (delete_links.length) {
    for (let i = 0; i < delete_links.length; i++) {
      delete_links[i].addEventListener("click", (evt) => {
        evt.preventDefault();
        if (confirm("Are you sure you want to delete this!")) {
          evt.currentTarget.parentNode.submit();
        }
        return false;
      });
    }
  }
</script>

<%- include("../layout/footer") %>
